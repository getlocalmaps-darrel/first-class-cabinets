---
import { getCollection } from 'astro:content';
import MainLayout from '../../layouts/MainLayout.astro';
import BlogCard from '../../components/BlogCard.astro';

const posts = (await getCollection('blog', ({ data }) => !data.draft))
  .sort((a, b) => new Date(b.data.publishDate).getTime() - new Date(a.data.publishDate).getTime());

const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://www.firstclasswoodworks.com/" },
    { "@type": "ListItem", "position": 2, "name": "Blog", "item": "https://www.firstclasswoodworks.com/blog/" }
  ]
};
---

<MainLayout title="Blog | Expert Insights from First Class WoodWorks" description="Expert guides on custom cabinetry, kitchen remodeling, and woodworking from Diego Macias â€” Murrieta's trusted cabinet maker with 10+ years experience.">
  <script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />

  <!-- Hero Banner -->
  <section class="bg-zinc-900 py-16 md:py-24 -mt-[180px] md:-mt-[180px] pt-[240px] md:pt-[260px] mb-12">
    <div class="max-w-4xl mx-auto px-6 text-center">
      <p class="text-[10px] font-bold uppercase tracking-[0.25em] text-yellow-600 mb-4">Expert Insights</p>
      <h1 class="font-serif text-3xl md:text-5xl font-bold text-white leading-tight mb-4">Expert Insights from<br/>First Class WoodWorks</h1>
      <p class="text-zinc-400 text-lg max-w-2xl mx-auto leading-relaxed">Guides, tips, and inspiration for homeowners considering custom cabinetry, kitchen remodeling, and woodworking projects in the Temecula Valley.</p>
    </div>
  </section>

  <!-- Blog Grid -->
  <section class="max-w-6xl mx-auto px-6 pb-16">
    {posts.length > 0 ? (
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {posts.map(post => (
          <div class="reveal">
            <BlogCard
              title={post.data.title}
              description={post.data.description}
              publishDate={post.data.publishDate}
              category={post.data.category}
              readingTime={post.data.readingTime}
              slug={post.id.replace(/\.mdx?$/, '')}
            />
          </div>
        ))}
      </div>
    ) : (
      <div class="text-center py-16">
        <p class="text-zinc-400 text-lg">Articles coming soon. Check back for expert insights on custom cabinetry and kitchen remodeling.</p>
      </div>
    )}
  </section>

  <!-- CTA Section -->
  <section class="bg-zinc-950 py-16">
    <div class="max-w-4xl mx-auto px-6 text-center">
      <h2 class="font-serif text-2xl md:text-3xl font-bold text-white mb-4">Ready to Start Your Project?</h2>
      <p class="text-zinc-400 mb-8 max-w-xl mx-auto">Get a free consultation with Diego Macias and the First Class WoodWorks team.</p>
      <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
        <a href="/contact" class="bg-yellow-600 text-zinc-950 px-8 py-3 rounded-sm font-bold text-sm uppercase tracking-wider hover:bg-yellow-700 transition">Get a Free Quote</a>
        <a href="tel:9519731265" class="text-white font-bold hover:text-yellow-500 transition text-lg">(951) 973-1265</a>
      </div>
    </div>
  </section>
</MainLayout>
